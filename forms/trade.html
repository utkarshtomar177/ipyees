<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Trademark Buy/Sell Multi-step Form</title>
    <!-- CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- FONT -->
    <link href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <style>
      :root {
        --bs-primary: #ff3bd4;
        --bs-primary-rgb: 255, 59, 212;
        --bs-secondary: #7130c3;
        --bs-secondary-rgb: 113, 48, 195;
        --bs-border-color: #2f336d;
      }
      body {
        background: url("img/background.png");
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        font-family: "Josefin Sans", sans-serif;
        font-size: 16px;
        font-size: 1rem;
        font-weight: 600;
        line-height: 1.4;
        color: #fff;
        min-height: 100vh;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        color: #fff;
      }

      p {
        margin-bottom: 24px;
        line-height: 1.9;
      }

      label {
        font-size: 16px;
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 5px;
        color: #00011c;
      }

      #qbox-container {
        position: relative;
        min-height: 630px;
      }

      #steps-container {
        margin: auto;
        min-height: 420px;
        display: flex;
        vertical-align: middle;
        align-items: center;
      }

      .step {
        display: none;
        animation-name: move;
        animation-duration: 0.7s;
        animation-timing-function: ease-in-out;
      }

      .step h4 {
        margin: 0 0 26px 0;
        padding: 0;
        position: relative;
        font-weight: 500;
        font-size: 23px;
        font-size: 1.4375rem;
        line-height: 1.6;
      }

      button#prev-btn,
      button#next-btn,
      button#submit-btn {
        font-size: 17px;
        font-weight: bold;
        position: relative;
        width: 130px;
        height: 50px;
        background: linear-gradient(
          355deg,
          var(--bs-primary),
          var(--bs-secondary)
        );
        margin: 0 auto;
        margin-top: 40px;
        overflow: hidden;
        z-index: 1;
        cursor: pointer;
        transition: color 0.3s;
        text-align: center;
        color: #fff;
        border: 0;
        -webkit-border-bottom-right-radius: 5px;
        -webkit-border-bottom-left-radius: 5px;
        -moz-border-radius-bottomright: 5px;
        -moz-border-radius-bottomleft: 5px;
        border-bottom-right-radius: 5px;
        border-bottom-left-radius: 5px;
      }

      button#prev-btn:after,
      button#next-btn:after,
      button#submit-btn:after {
        position: absolute;
        top: 90%;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(var(--bs-secondary-rgb), 0.3);
        content: "";
        z-index: -2;
        transition: transform 0.3s;
      }

      button#prev-btn:hover::after,
      button#next-btn:hover::after,
      button#submit-btn:hover::after {
        transform: translateY(-80%);
        transition: transform 0.3s;
      }

      .progress {
        height: 0.3rem;
        border-radius: 0px !important;
        position: fixed;
        width: 100%;
        top: 0;
        background: #ccacac;
      }
      .bg-danger {
        background-color: var(--bs-secondary) !important;
        opacity: 62%;
      }
      .peogress-bar-striped {
        background-color: var(--bs-secondary) !important;
      }
      .q__question {
        position: relative;
      }

      .q__question:not(:last-child) {
        margin-bottom: 10px;
      }

      .question__input {
        position: absolute;
        left: -9999px;
      }

      .question__label {
        position: relative;
        display: block;
        line-height: 40px;
        border: 1px solid #ced4da;
        border-radius: 5px;
        background-color: #fff;
        padding: 5px 20px 5px 50px;
        cursor: pointer;
        transition: all 0.15s ease-in-out;
      }

      .question__label:hover {
        border-color: #dc3545;
      }

      .question__label:before,
      .question__label:after {
        position: absolute;
        content: "";
      }

      .question__label:before {
        top: 12px;
        left: 10px;
        width: 26px;
        height: 26px;
        border-radius: 50%;
        background-color: #fff;
        box-shadow: inset 0 0 0 1px #ced4da;
        -webkit-transition: all 0.15s ease-in-out;
        -moz-transition: all 0.15s ease-in-out;
        -o-transition: all 0.15s ease-in-out;
        transition: all 0.15s ease-in-out;
      }

      .question__input:checked + .question__label:before {
        background: rgba(var(--bs-secondary-rgb), 0.5);
        box-shadow: 0 0 0 0;
      }

      .question__input:checked + .question__label:after {
        top: 22px;
        left: 18px;
        width: 10px;
        height: 5px;
        border-left: 2px solid #fff;
        border-bottom: 2px solid #fff;
        transform: rotate(-45deg);
      }

      .form-check-input:checked,
      .form-check-input:focus {
        background-color: #dc3545 !important;
        outline: none !important;
        border: none !important;
      }

      input:focus {
        outline: none;
      }

      #input-container {
        display: inline-block;
        box-shadow: none !important;
        margin-top: 36px !important;
      }

      .form-label {
        color: #fff;
      }

      label.form-check-label.radio-lb {
        margin-right: 15px;
      }

      #q-box__buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
      }

      #q-box__buttons button {
        flex-shrink: 0;
      }

      input[type="text"],
      input[type="email"],
      input[type="number"],
      select {
        padding: 8px 14px;
      }

      input[type="text"]:focus,
      input[type="email"]:focus,
      input[type="number"]:focus,
      select:focus {
        border: 1px solid #dc3545;
        border-radius: 5px;
        outline: 0px !important;
        -webkit-appearance: none;
        box-shadow: none !important;
        -webkit-transition: all 0.15s ease-in-out;
        -moz-transition: all 0.15s ease-in-out;
        -o-transition: all 0.15s ease-in-out;
        transition: all 0.15s ease-in-out;
      }

      .form-check-input:checked[type="radio"],
      .form-check-input:checked[type="radio"]:hover,
      .form-check-input:checked[type="radio"]:focus,
      .form-check-input:checked[type="radio"]:active {
        border: none !important;
        -webkit-outline: 0px !important;
        box-shadow: none !important;
      }

      .form-check-input:focus,
      input[type="radio"]:hover {
        box-shadow: none;
        cursor: pointer !important;
      }

      #success {
        display: none;
      }

      #success h4 {
        color: #dc3545;
      }

      .back-link {
        font-weight: 700;
        color: #dc3545;
        text-decoration: none;
        font-size: 18px;
      }

      .back-link:hover {
        color: #82000a;
      }

      #preloader-wrapper {
        width: 100%;
        height: 100%;
        z-index: 1000;
        display: none;
        position: fixed;
        top: 0;
        left: 0;
      }

      #preloader {
        background-image: url("../img/preloader.png");
        width: 120px;
        height: 119px;
        border-top-color: #fff;
        border-radius: 100%;
        display: block;
        position: relative;
        top: 50%;
        left: 50%;
        margin: -75px 0 0 -75px;
        -webkit-animation: spin 2s linear infinite;
        animation: spin 2s linear infinite;
        z-index: 1001;
      }

      @-webkit-keyframes spin {
        0% {
          -webkit-transform: rotate(0deg);
          -ms-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
          -ms-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }

      @keyframes spin {
        0% {
          -webkit-transform: rotate(0deg);
          -ms-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
          -ms-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }

      @keyframes move {
        from {
          translate: 150vw 0;
          scale: 200% 1;
        }

        to {
          translate: 0 0;
          scale: 100% 1;
        }
      }

      #preloader-wrapper .preloader-section {
        width: 51%;
        height: 100%;
        position: fixed;
        top: 0;
        background: #f7f9ff;
        z-index: 1000;
      }

      #preloader-wrapper .preloader-section.section-left {
        left: 0;
      }

      #preloader-wrapper .preloader-section.section-right {
        right: 0;
      }

      .loaded #preloader-wrapper .preloader-section.section-left {
        transform: translateX(-100%);
        transition: all 0.7s 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
      }

      .loaded #preloader-wrapper .preloader-section.section-right {
        transform: translateX(100%);
        transition: all 0.7s 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
      }

      .loaded #preloader {
        opacity: 0;
        transition: all 0.3s ease-out;
      }

      .loaded #preloader-wrapper {
        visibility: hidden;
        transform: translateY(-100%);
        transition: all 0.3s 1s ease-out;
      }

      /* MEDIA QUERIES */

      @media (min-width: 990px) and (max-width: 1199px) {
        #steps-container {
          width: 85%;
        }
      }

      @media (max-width: 991px) {
        #qbox-container {
          padding: 30px;
        }
      }

      @media (max-width: 767px) {
        #qbox-container {
          padding: 30px;
        }
        #steps-container {
          width: 100%;
          min-height: 400px;
        }
      }

      @media (max-width: 560px) {
        #qbox-container {
          padding: 40px;
        }
      }
    </style>
    <!-- CONTAINER -->
    <div class="container d-flex align-items-center">
      <div class="row g-0 justify-content-center mx-auto">
        <!-- FORMS -->
        <div class="mx-0 px-0">
          <div id="qbox-container">
            <form
              class="needs-validation"
              id="form-wrapper"
              method="post"
              name="form-wrapper"
              novalidate=""
            >
              <div id="steps-container">
                <!-- Step 0: Buy or Sell -->
                <div class="step">
                  <h4>Do you want to buy or sell ?</h4>
                  <div class="form-check ps-0 q-box">
                    <div class="q-box__question">
                      <input
                        class="form-check-input question__input"
                        id="q_0_buy"
                        name="q_0"
                        type="radio"
                        value="Buy"
                      />
                      <label
                        class="form-check-label question__label"
                        for="q_0_buy"
                        >Buy
                      </label>
                    </div>
                    <div class="q-box__question">
                      <input
                        class="form-check-input question__input"
                        id="q_0_sell"
                        name="q_0"
                        type="radio"
                        value="Sell"
                      />
                      <label
                        class="form-check-label question__label"
                        for="q_0_sell"
                        >Sell
                      </label>
                    </div>
                  </div>
                </div>

                <!-- Step 1: Contact Information (Common) -->
                <div class="step">
                  <h4>Contact Information</h4>
                  <div class="mt-1">
                    <label class="form-label">Full Name*:</label>
                    <input
                      class="form-control"
                      id="full_name"
                      name="full_name"
                      type="text"
                      required
                    />
                  </div>
                  <div class="mt-2">
                    <label class="form-label">Email*:</label>
                    <input
                      class="form-control"
                      id="email"
                      name="email"
                      type="email"
                      required
                    />
                  </div>
                  <div class="mt-2">
                    <label class="form-label">Mobile Number*:</label>
                    <input
                      class="form-control"
                      id="mobile"
                      name="mobile"
                      type="text"
                      required
                    />
                  </div>
                </div>

                <!-- Step 2: Buy - Business Details -->
                <div class="step buy-step">
                  <h4>Business Details for Trademark Purchase</h4>
                  <div class="mt-1">
                    <label class="form-label"
                      >The business for which the trademark is required or will
                      be used*:</label
                    >
                    <textarea
                      class="form-control"
                      id="business_purpose"
                      name="business_purpose"
                      rows="3"
                      required
                    ></textarea>
                  </div>
                  <div class="mt-2">
                    <label class="form-label">Budget (INR)*:</label>
                    <select
                      class="form-control"
                      id="budget"
                      name="budget"
                      required
                    >
                      <option value="">Select Budget Range</option>
                      <option value="under-50000">Under ₹50,000</option>
                      <option value="50000-100000">₹50,000 - ₹1,00,000</option>
                      <option value="100000-250000">
                        ₹1,00,000 - ₹2,50,000
                      </option>
                      <option value="250000-500000">
                        ₹2,50,000 - ₹5,00,000
                      </option>
                      <option value="500000-1000000">
                        ₹5,00,000 - ₹10,00,000
                      </option>
                      <option value="above-1000000">Above ₹10,00,000</option>
                    </select>
                  </div>
                  <div class="mt-2">
                    <label class="form-label"
                      >How soon do you require it?*:</label
                    >
                    <select
                      class="form-control"
                      id="timeline"
                      name="timeline"
                      required
                    >
                      <option value="">Select Timeline</option>
                      <option value="immediately">Immediately</option>
                      <option value="1-week">Within 1 week</option>
                      <option value="1-month">Within 1 month</option>
                      <option value="3-months">Within 3 months</option>
                      <option value="6-months">Within 6 months</option>
                      <option value="no-rush">No specific timeline</option>
                    </select>
                  </div>
                  <div class="mt-2">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="registered_only"
                        name="registered_only"
                        value="yes"
                      />
                      <label
                        class="form-check-label text-white"
                        for="registered_only"
                      >
                        I am only interested in registered trademarks
                      </label>
                    </div>
                  </div>
                </div>

                <!-- Step 3: Sell - Trademark Details -->
                <div class="step sell-step">
                  <h4>Trademark Details for Sale</h4>
                  <div class="mt-1">
                    <label class="form-label">Trade Mark Name*:</label>
                    <input
                      class="form-control"
                      id="trademark_name"
                      name="trademark_name"
                      type="text"
                      required
                    />
                  </div>
                  <div class="mt-2">
                    <label class="form-label"
                      >Nature of Business for which the trademark is used or
                      registered*:</label
                    >
                    <textarea
                      class="form-control"
                      id="business_nature"
                      name="business_nature"
                      rows="3"
                      required
                    ></textarea>
                  </div>
                  <div class="mt-2">
                    <label class="form-label">Expected Pay (INR)*:</label>
                    <input
                      class="form-control"
                      id="expected_pay"
                      name="expected_pay"
                      type="number"
                      min="0"
                      required
                    />
                  </div>
                  <div class="mt-2">
                    <label class="form-label"
                      >How soon do you want to sell it?*:</label
                    >
                    <select
                      class="form-control"
                      id="sell_timeline"
                      name="sell_timeline"
                      required
                    >
                      <option value="">Select Timeline</option>
                      <option value="immediately">Immediately</option>
                      <option value="1-week">Within 1 week</option>
                      <option value="1-month">Within 1 month</option>
                      <option value="3-months">Within 3 months</option>
                      <option value="6-months">Within 6 months</option>
                      <option value="open-to-offers">
                        Open to offers anytime
                      </option>
                    </select>
                  </div>
                </div>

                <!-- Step 4: Final Confirmation -->
                <div class="step">
                  <div class="mt-1">
                    <div class="closing-text">
                      <h4>Ready to Submit!</h4>
                      <p>
                        We will review your information and get back to you with
                        suitable matches or buyers as per your requirements.
                      </p>
                      <p>Click on the submit button to proceed.</p>
                    </div>
                  </div>
                </div>

                <div id="success">
                  <div class="mt-5">
                    <h4>Success! We'll get back to you ASAP!</h4>
                    <p>
                      Thank you for your submission. Our trademark experts will
                      review your requirements and contact you within 24-48
                      hours with suitable options.
                    </p>
                    <a class="back-link" href="" onclick="location.reload()">
                      Submit another request ➜
                    </a>
                  </div>
                </div>
              </div>
              <div id="q-box__buttons">
                <button id="prev-btn" type="button">Previous</button>
                <button id="next-btn" type="button">Next</button>
                <button id="submit-btn" type="submit">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="progress">
      <div
        aria-valuemax="100"
        aria-valuemin="0"
        aria-valuenow="0"
        class="progress-bar progress-bar-striped progress-bar-animated bg-danger"
        role="progressbar"
        style="width: 0%"
      ></div>
    </div>
    <div id="preloader-wrapper">
      <div id="preloader"></div>
      <div class="preloader-section section-left"></div>
      <div class="preloader-section section-right"></div>
    </div>
    <script>
      let step = document.getElementsByClassName("step");
      let prevBtn = document.getElementById("prev-btn");
      let nextBtn = document.getElementById("next-btn");
      let submitBtn = document.getElementById("submit-btn");
      let form = document.getElementsByTagName("form")[0];
      let preloader = document.getElementById("preloader-wrapper");
      let bodyElement = document.querySelector("body");
      let succcessDiv = document.getElementById("success");

      form.onsubmit = () => {
        return false;
      };

      let current_step = 0;
      let stepCount = 4;
      let actualSteps = [];

      const progress = (value) => {
        document.getElementsByClassName(
          "progress-bar"
        )[0].style.width = `${value}%`;
      };

      function initForm() {
        for (let i = 0; i < step.length; i++) {
          step[i].classList.remove("d-block");
          step[i].classList.add("d-none");
        }

        step[0].classList.remove("d-none");
        step[0].classList.add("d-block");

        // Initialize buttons
        prevBtn.classList.add("d-none");
        submitBtn.classList.add("d-none");
        nextBtn.classList.add("d-inline-block");

        progress(0);
      }

      function setupPath() {
        if (document.getElementById("q_0_buy").checked) {
          // Buy path: Step 0 -> Step 1 (Contact) -> Step 2 (Buy Details) -> Step 4 (Confirmation)
          actualSteps = [0, 1, 2, 4];
          document
            .querySelectorAll(".sell-step")
            .forEach((el) => (el.style.display = "none"));
          document
            .querySelectorAll(".buy-step")
            .forEach((el) => (el.style.display = "block"));
        } else if (document.getElementById("q_0_sell").checked) {
          // Sell path: Step 0 -> Step 1 (Contact) -> Step 3 (Sell Details) -> Step 4 (Confirmation)
          actualSteps = [0, 1, 3, 4];
          document
            .querySelectorAll(".buy-step")
            .forEach((el) => (el.style.display = "none"));
          document
            .querySelectorAll(".sell-step")
            .forEach((el) => (el.style.display = "block"));
        }
        stepCount = actualSteps.length;
      }

      nextBtn.addEventListener("click", () => {
        if (current_step === 0) {
          if (
            !document.getElementById("q_0_buy").checked &&
            !document.getElementById("q_0_sell").checked
          ) {
            alert("Please select whether you want to buy or sell a trademark.");
            return;
          }
          setupPath();
        }

        let currentStepElement = step[actualSteps[current_step]];
        let requiredInputs = currentStepElement.querySelectorAll(
          "input[required], select[required], textarea[required]"
        );
        let isValid = true;

        requiredInputs.forEach((input) => {
          if (!input.value.trim()) {
            isValid = false;
            input.style.borderColor = "#dc3545";
          } else {
            input.style.borderColor = "#ced4da";
          }
        });

        if (!isValid) {
          alert("Please fill in all required fields.");
          return;
        }

        current_step++;
        let previous_step = current_step - 1;

        if (current_step > 0 && current_step < stepCount) {
          prevBtn.classList.remove("d-none");
          prevBtn.classList.add("d-inline-block");

          step[actualSteps[previous_step]].classList.remove("d-block");
          step[actualSteps[previous_step]].classList.add("d-none");

          step[actualSteps[current_step]].classList.remove("d-none");
          step[actualSteps[current_step]].classList.add("d-block");

          if (current_step === stepCount - 1) {
            submitBtn.classList.remove("d-none");
            submitBtn.classList.add("d-inline-block");
            nextBtn.classList.remove("d-inline-block");
            nextBtn.classList.add("d-none");
          }
        } else {
          if (current_step >= stepCount) {
            form.onsubmit = () => {
              return true;
            };
          }
        }
        progress((100 / (stepCount - 1)) * current_step);
      });

      prevBtn.addEventListener("click", () => {
        if (current_step > 0) {
          current_step--;
          let previous_step = current_step + 1;

          step[actualSteps[current_step]].classList.remove("d-none");
          step[actualSteps[current_step]].classList.add("d-block");

          step[actualSteps[previous_step]].classList.remove("d-block");
          step[actualSteps[previous_step]].classList.add("d-none");

          if (current_step < stepCount - 1) {
            submitBtn.classList.remove("d-inline-block");
            submitBtn.classList.add("d-none");
            nextBtn.classList.remove("d-none");
            nextBtn.classList.add("d-inline-block");
          }

          if (current_step === 0) {
            prevBtn.classList.remove("d-inline-block");
            prevBtn.classList.add("d-none");
          }
        }

        progress((100 / (stepCount - 1)) * current_step);
      });

      submitBtn.addEventListener("click", (e) => {
        e.preventDefault();

        // Final validation - only validate visible required fields
        let visibleSteps = actualSteps.slice(0, current_step + 1);
        let isValid = true;

        visibleSteps.forEach((stepIndex) => {
          let stepElement = step[stepIndex];
          let requiredInputs = stepElement.querySelectorAll(
            "input[required], select[required], textarea[required]"
          );

          requiredInputs.forEach((input) => {
            // Only validate if the input's parent step is not hidden
            let parentStep = input.closest(".step");
            let isStepVisible = !parentStep.classList.contains("d-none");

            if (isStepVisible && !input.value.trim()) {
              isValid = false;
              input.style.borderColor = "#dc3545";
            } else if (isStepVisible) {
              input.style.borderColor = "#ced4da";
            }
          });
        });

        if (!isValid) {
          alert("Please fill in all required fields.");
          return;
        }

        preloader.classList.add("d-block");

        const timer = (ms) => new Promise((res) => setTimeout(res, ms));

        timer(1000)
          .then(() => {
            bodyElement.classList.add("loaded");
          })
          .then(() => {
            step[actualSteps[stepCount - 1]].classList.remove("d-block");
            step[actualSteps[stepCount - 1]].classList.add("d-none");
            prevBtn.classList.remove("d-inline-block");
            prevBtn.classList.add("d-none");
            submitBtn.classList.remove("d-inline-block");
            submitBtn.classList.add("d-none");
            succcessDiv.classList.remove("d-none");
            succcessDiv.classList.add("d-block");
          });
      });

      initForm();
    </script>
  </body>
</html>
